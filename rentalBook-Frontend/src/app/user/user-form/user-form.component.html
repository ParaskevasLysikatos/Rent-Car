<app-single-form [formGroup]="form" (ngSubmit)="onSubmit()" [canDelete]="canDelete">

  <div class='row  ml-0 mr-0'>
    <div class='col-md-12 pl-0'>
      <div class="row g-0">

        <div class='col-12 p-1'>
          <mat-card>
            <mat-card-content>
              <div class="row wrap">

                <ng-template info [ngIf]="true">

                  <div class="col-6">
                    <mat-form-field class="col-12">
                      <mat-label>Όνομα</mat-label>
                      <input matInput formControlName="name">
                    </mat-form-field>
                    <div *ngIf="form.get('name').invalid && (form.get('name').dirty ||
                form.get('name').touched)" class="alert">
                      Παρακαλώ προσθέστε Όνομα
                    </div>
                  </div>


                  <div class="col-6">
                    <mat-form-field class="col-12">
                      <mat-label>Username</mat-label>
                      <input matInput formControlName="username">
                    </mat-form-field>
                    <div *ngIf="form.get('username').invalid && (form.get('username').dirty ||
                form.get('username').touched)" class="alert">
                      Παρακαλώ προσθέστε Username
                    </div>
                  </div>


                  <div class="col-6">
                    <mat-form-field class="col-12">
                      <mat-label>E-mail</mat-label>
                      <input matInput formControlName="email">
                    </mat-form-field>
                    <div *ngIf="form.get('email').invalid && (form.get('email').dirty ||
                form.get('email').touched)" class="alert">
                      Παρακαλώ προσθέστε E-mail
                    </div>
                  </div>


                  <mat-form-field class="col-6">
                    <mat-label>Τηλέφωνο</mat-label>
                    <input matInput formControlName="phone">
                  </mat-form-field>

                  <div class="col-6">
                    <mat-form-field class="col-12">
                      <mat-label>Ρόλος</mat-label>
                      <mat-select formControlName="role_id">
                        <mat-option *ngFor="let r of userRoles" [value]="r.id">{{ r?.title }}
                        </mat-option>
                      </mat-select>
                    </mat-form-field>
                    <div *ngIf="form.get('role_id').invalid && (form.get('role_id').dirty ||
                form.get('role_id').touched)" class="alert">
                      Παρακαλώ προσθέστε Ρόλο
                    </div>
                  </div>



                  <mat-form-field class="col-6">
                    <mat-label>Κωδικός</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                    <mat-icon matSuffix (click)="hide = !hide">{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    <mat-hint *ngIf="!password?.value">Password override</mat-hint>
                  </mat-form-field>



                  <div class="col-6">
                    <app-driver-selector #driverEmp [label]="'Συνδεδεμένος Οδηγός'" [addBtn]="true" [clearBtn]="true"
                      formControlName="driver_id">
                    </app-driver-selector>
                    <div *ngIf="form.get('driver_id').invalid && (form.get('driver_id').dirty ||
                form.get('driver_id').touched)" class="alert">
                      Παρακαλώ προσθέστε Οδηγό
                    </div>
                  </div>



                  <div class="col-6">
                    <app-station-selector [label]="'Προεπιλεγμένος Σταθμός'" #station [addBtn]="true" [clearBtn]="true"
                      formControlName="station_id">
                    </app-station-selector>
                    <div *ngIf="form.get('station_id').invalid && (form.get('station_id').dirty ||
                form.get('station_id').touched)" class="alert">
                      Παρακαλώ προσθέστε σταθμό
                    </div>
                  </div>

                </ng-template>

              </div>
            </mat-card-content>
          </mat-card>
        </div>
      </div>
    </div>
  </div>



</app-single-form>
